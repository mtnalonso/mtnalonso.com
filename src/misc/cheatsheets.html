<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>Cheatsheets</title>
        <link rel="stylesheet" type="text/css" href="/css/nes.min.css">
        <link rel="stylesheet" type="text/css" href="/css/styles.css">
        <link rel="stylesheet" type="text/css" href="/css/highlight.min.css">
        <script src="/js/script.js"></script>
        <script src="/js/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
    </head>
    <body>
        <nav>
            <hr>
            <a class="nes-btn is-error" href="/"><-</a> |
            <a class="nes-btn is-primary" href="/blog">BLOG</a> |
            <a class="nes-btn is-success" href="/security">SECURITY</a> |
            <a class="nes-btn is-warning" href="/about-me">ABOUT ME</a> |
            <a class="nes-btn" href="/write-ups">WRITE-UPS</a>
            <hr>
        </nav>
        <main>  
            <h1>Cheatsheets</h1>
            <br>
            <p>This is an ongoing page where I will add any useful info about the tools I use.</p>
            <br>
            <section id="tools" class="nes-container with-title">
                <h2 class="title">Tools</h2>
                <section class="exp-container">
                    <section class="nes-container with-title">
                        <h5 class="title">nmap</h5>
                        <button class="nes-btn is-primary btn-expand-container" onclick="expandContainer(this)">+</button>
                    </section>
                    <section class="exp-container-code" style="display: none;">
                        <pre><code class="hljs bash">
# ICMP (Ping) scan
nmap -sP &lt;target-ip-address&gt;

# Ping sweep
nmap -sP 192.168.0.1-255

# TCP scan
nmap -sT &lt;target-ip-address&gt;

# Stealth (SYN) scan
nmap -sS &lt;target-ip-address&gt;

# XMAS scan
nmap -sX &lt;target-ip-address&gt;

# ACK scan
nmap -sA &lt;target-ip-address&gt;

# WINDOW scan
nmap -sW &lt;target-ip-address&gt;

# UDP scan
nmap -sU &lt;target-ip-address&gt;

# Fast scan across all ports
nmap -p- -T5 --min-rate 5000 -n -v &lt;target-ip-address&gt;
                        </code></pre>
                    </section>
                </section>
                <section class="exp-container">
                    <section class="nes-container with-title">
                        <h5 class="title">git</h5>
                        <button class="nes-btn is-primary btn-expand-container" onclick="expandContainer(this)">+</button>
                    </section>
                    <section class="exp-container-code" style="display: none;">
                        <pre><code class="hljs bash">
## Branches
# Delete local branch
git branch -d &lt;branch-name&gt;
# Delete remote branch
git push origin --delete &lt;branch-name&gt;


## Tags
# List tags
git log --simplify-by-decoration --decorate --pretty=oneline | fgrep 'tag: '
# Add tag to a specific commit
git tag &lt;tagname&gt; &lt;commit-id&gt;
# Push tag to remote
git push origin &lt;tagname&gt;
# Push all tags to remote
git push --tags
# Remove the tag from local environment
git tag -d &lt;tagname&gt;
# Remote the tag from remote environment
git push origin :refs/tags/&lt;tagname&gt;


## Git flow
git flow (feature|release|hotfix) start &lt;name&gt; 
git flow (feature|release|hotfix) finish [-F] &lt;name&gt;
git push origin &lt;tag-name&gt; # (for releases and hotfixes)


## Commits info
# Show commits by users
git shortlog -s -n —all —no-merges
# Get date of commits for an user
git log --all --no-merges --author=<username> --format=%cd
# Git first commit of repo
git rev-list --max-parents=0 HEAD
                        </code></pre>
                    </section>
                </section>
            </section>
            <section id="linux" class="nes-container with-title border-red">
                <h2 class="title">Linux</h2>
                <section class="exp-container">
                    <section class="nes-container with-title">
                        <h5 class="title">Users</h5>
                        <button class="nes-btn is-primary btn-expand-container" onclick="expandContainer(this)">+</button>
                    </section>
                    <section class="exp-container-code" style="display: none;">
                        <pre><code class="hljs bash">
## Password Updates
# Force password update on next login
chage -d 0 &lt;username&gt;
# List user current settings
chage -l &lt;username&gt;
# Expire an account on specific day
chage -E YYYY-MM-DD &lt;username&gt;
# Get date after x days: $(date -d "+45 days")

# /etc/shadow format:
#     loginname:password:lastchange:minage:maxage:warning:inactive:expire:blank

# Lock account
usermod -L &lt;username&gt;
# Lock and expire account
usermod -L -e 1 &lt;username&gt;


## Groups
# Remove user from group
gpasswd -d &lt;username&gt; &lt;group&gt;


## ACLs
setfacl -m u:&lt;user&gt;:rwx &lt;file&gt;
setfacl -R -m u:&lt;user&gt;:rwX &lt;directory&gt;
setfacl -d -R -m u:&lt;user&gt;:rwX &lt;directory&gt; # directory with default values
                        </code></pre>
                    </section>
                </section>
            </section>
        </main>
        <footer>
            <a href="mailto:mtnalonso@pm.me"><i class="nes-icon gmail is-small"></i></a>
            <a href="https://github.com/mtnalonso"><i class="nes-icon github is-small"></i></a>
            <a href="https://twitter.com/mtnalonso"><i class="nes-icon twitter is-small"></i></a>
            <a href="https://www.linkedin.com/in/MartinAlonsoVilar"><i class="nes-icon linkedin is-small"></i></a>
            <b>Style: <a href="https://nostalgic-css.github.io/NES.css/">NES.css</a></b>
        </footer>
    </body>
</html>
